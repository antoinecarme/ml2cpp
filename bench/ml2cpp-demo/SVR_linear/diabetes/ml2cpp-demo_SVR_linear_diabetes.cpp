// ******************************************************** 

// This C++ code was automatically generated by ml2cpp (development version).
// Copyright 2020

// https://github.com/antoinecarme/ml2cpp
// Model : SVR_linear
// Dataset : diabetes

// This CPP code can be compiled using any C++-17 compiler.
// g++ -Wall -Wno-unused-function -std=c++17 -g -o ml2cpp-demo_SVR_linear_diabetes.exe ml2cpp-demo_SVR_linear_diabetes.cpp

// Model deployment code

// ******************************************************** 

#include "../../Generic.i"

namespace  {

	std::vector<std::any> lProblem_data_dual = { 
	 0.1 , 0.1 , 0.1 , 0.1 , -0.1 , 0.1 , 0.1 , 0.1 , -0.1 , 0.1 , -0.1 , -0.1 , -0.1 , -0.1 , -0.1 , -0.1 , -0.1 , -0.1 , 0.1 , -0.1 , -0.1 , -0.1 , -0.1 , 0.1 , 0.1 , 0.1 , 0.1 , 0.1 , -0.1 , 0.1 , -0.1 , -0.1 , 0.1 , 0.1 , 0.1 , -0.1 , -0.1 , -0.1 , -0.1 , 0.1 , -0.1 , -0.1 , 0.1 , 0.1 , -0.1 , 0.1 , 0.1 , -0.1 , 0.1 , 0.1 ,};
	

	std::vector<std::vector<std::any> > lProblem_data_sv = { 
	 { 0.0707687524926, -0.044641636506989, 0.0121168511201671, 0.0425295791573734, 0.0713565416644485, 0.0534871033869495, 0.052321737254237, -0.00259226199818282, 0.0253931349154494, -0.0052198044153011 },
	 { -0.00188201652779104, 0.0506801187398187, 0.0713965151836166, 0.0976155102571536, 0.0878679759628621, 0.0754074957122168, -0.0213110188275045, 0.0712099797536354, 0.0714240327805764, 0.0237749439885419 },
	 { 0.0126481372762872, -0.044641636506989, 0.0336730925977851, 0.0333485905259811, 0.0300779559184146, 0.0271826325966288, -0.0029028298070691, 0.00884708547334898, 0.0311929907028023, 0.0279170509033766 },
	 { 0.0271782910803654, -0.044641636506989, 0.0929527566612346, -0.0527231767141394, 0.00806271018719657, 0.0397085710682101, -0.0286742944356786, 0.021024455362399, -0.0483617248028919, 0.0196328370737072 },
	 { 0.0453409833354632, 0.0506801187398187, -0.00836157828357004, -0.0332135761048244, -0.00707277125301585, 0.00119131026809764, -0.0397192078479398, 0.0343088588777263, 0.0299356483965325, 0.0279170509033766 },
	 { 0.0671362140415805, 0.0506801187398187, -0.00620595413580824, 0.063186803319791, -0.0428475455662452, -0.0958847128866574, 0.052321737254237, -0.076394503750001, 0.0594238004447941, 0.0527696923923848 },
	 { 0.030810829531385, 0.0506801187398187, 0.0595405823709267, 0.0563010619323185, -0.0222082526932283, 0.00119131026809764, -0.0323559322397657, -0.00259226199818282, -0.0247911874324607, -0.0176461251598052 },
	 { 0.0162806757273067, -0.044641636506989, 0.0735521393313785, -0.0412469410453994, -0.00432086553661359, -0.0135266674360104, -0.0139477432193303, -0.00111621716314646, 0.0428956878925287, 0.0444854785627154 },
	 { -0.0709002470971626, 0.0506801187398187, -0.0751859268641859, -0.0400993174922969, -0.051103262715452, -0.015092409744958, -0.0397192078479398, -0.00259226199818282, -0.096433222891784, -0.0342145528191441 },
	 { 0.063503675590561, 0.0506801187398187, -0.00405032998804645, -0.0125563519424068, 0.103003457403075, 0.0487898764601065, 0.056003375058324, -0.00259226199818282, 0.0844952822124031, -0.0176461251598052 },
	 { -0.0890629393522603, -0.044641636506989, -0.0611743699037342, -0.0263278347173518, -0.0552311212900554, -0.0545491159304391, 0.0412768238419757, -0.076394503750001, -0.0939356455087147, -0.0549250873933176 },
	 { -0.0600026317441039, 0.0506801187398187, -0.0105172024313319, -0.0148515990830405, -0.0497273098572509, -0.0235474182132754, -0.0581273968683752, 0.0158582984397717, -0.00991895736315477, -0.0342145528191441 },
	 { 0.00538306037424807, 0.0506801187398187, -0.0288400076873072, -0.00911348124867051, -0.0318399227006362, -0.0288709420636975, 0.0081420836051921, -0.0394933828740919, -0.0181182673078967, 0.00720651632920303 },
	 { -0.0817978624502212, -0.044641636506989, -0.0816527993074713, -0.0400993174922969, 0.00255889875439205, -0.0185370428246429, 0.0707299262746723, -0.0394933828740919, -0.0109044358473771, -0.09220404962683 },
	 { -0.034574862586967, -0.044641636506989, -0.0374625042783544, -0.0607565416547144, 0.0204462859110067, 0.0434663526096845, -0.0139477432193303, -0.00259226199818282, -0.0307512098645563, -0.0714935150526564 },
	 { -0.00188201652779104, 0.0506801187398187, -0.0245287593917836, 0.0528581912385822, 0.0273260502020124, 0.0300009687527346, 0.0302319104297145, -0.00259226199818282, -0.02139368094036, 0.036201264733046 },
	 { 0.00175052192322852, -0.044641636506989, -0.0396181284261162, -0.100923366426447, -0.0290880169842339, -0.0301235359108556, 0.0449584616460628, -0.0501947079281055, -0.0683297436244215, -0.129483011860342 },
	 { -0.099960554705319, -0.044641636506989, -0.0676412423470196, -0.108956731367022, -0.0744944613048712, -0.072711726714232, 0.0155053592133662, -0.0394933828740919, -0.0498684677352306, -0.0093619113301358 },
	 { -0.0963280162542995, -0.044641636506989, -0.0363846922044735, -0.0745280244296595, -0.0387196869916418, -0.0276183482165393, 0.0155053592133662, -0.0394933828740919, -0.0740888714915354, -0.00107769750046639 },
	 { -0.0454724779400257, -0.044641636506989, -0.0385403163522353, -0.0263278347173518, -0.0153284884022226, 0.000878161806308105, -0.0323559322397657, -0.00259226199818282, 0.00114379737951254, -0.0383566597339788 },
	 { 0.00538306037424807, -0.044641636506989, -0.0482406250171634, -0.0125563519424068, 0.00118294589619092, -0.00663740127664067, 0.0633666506664982, -0.0394933828740919, -0.0514005352605825, -0.0590671943081523 },
	 { -0.00188201652779104, -0.044641636506989, 0.068163078961974, -0.00567061055493425, 0.119514891701488, 0.130208476525385, -0.0249926566315915, 0.0867084505215172, 0.0461323310394148, -0.00107769750046639 },
	 { 0.0417084448844436, -0.044641636506989, -0.0450071887955207, 0.0344962143200845, 0.0438374845004259, -0.0157187066685371, 0.0375951860378887, -0.0144006206784737, 0.089898693277671, 0.00720651632920303 },
	 { -0.0418399394890061, 0.0506801187398187, 0.00457216660300077, -0.0538708002672419, -0.0442234984244464, -0.0273051997547498, -0.0802172236928976, 0.0712099797536354, 0.0366457977933988, 0.0196328370737072 },
	 { 0.00538306037424807, -0.044641636506989, -0.00297251791416553, 0.0494153205448459, 0.0741084473808508, 0.0707102687853738, 0.0449584616460628, -0.00259226199818282, -0.00149858682029207, -0.0093619113301358 },
	 { -0.0636351701951234, 0.0506801187398187, 0.0961861928828773, 0.104501251644626, -0.00294491267841247, -0.00475851050590347, -0.00658446761115617, -0.00259226199818282, 0.0226920225667445, 0.0734802269665584 },
	 { 0.110726675453815, 0.0506801187398187, 0.00672779075076256, 0.0287580963824284, -0.0277120641260328, -0.00726369820021974, -0.0470824834561139, 0.0343088588777263, 0.00200784054982379, 0.0776223338813931 },
	 { 0.0707687524926, 0.0506801187398187, 0.0121168511201671, 0.0563010619323185, 0.034205814493018, 0.0494161733836856, -0.0397192078479398, 0.0343088588777263, 0.027367707542609, -0.00107769750046639 },
	 { 0.0671362140415805, 0.0506801187398187, -0.0148284507268555, 0.0585963091762383, -0.0593589798646588, -0.034507614375909, -0.0618090346724622, 0.012906208769699, -0.00514530798026311, 0.0486275854775501 },
	 { 0.0271782910803654, -0.044641636506989, 0.0498402737059986, -0.0550184238203444, -0.00294491267841247, 0.0406480164535787, -0.0581273968683752, 0.0527594193156808, -0.0529587932392004, -0.0052198044153011 },
	 { 0.0380759064334241, 0.0506801187398187, 0.00888341489852436, 0.0425295791573734, -0.0428475455662452, -0.0210422305189592, -0.0397192078479398, -0.00259226199818282, -0.0181182673078967, 0.00720651632920303 },
	 { -0.0491050163910452, -0.044641636506989, -0.0568631216082106, -0.0435421881860331, -0.0455994512826475, -0.043275771306016, 0.000778807997017968, -0.0394933828740919, -0.0119006848015081, 0.0154907301588724 },
	 { -0.0418399394890061, -0.044641636506989, 0.0476846495582368, 0.0597439326260547, 0.127770608850695, 0.128016437292858, -0.0249926566315915, 0.108111100629544, 0.0638931206368394, 0.0403433716478807 },
	 { 0.0126481372762872, -0.044641636506989, 0.00672779075076256, -0.0561660474078757, -0.0758704141630723, -0.0664487574784414, -0.0213110188275045, -0.0376483268302965, -0.0181182673078967, -0.09220404962683 },
	 { 0.030810829531385, 0.0506801187398187, 0.0466068374843559, -0.015999222636143, 0.0204462859110067, 0.0506687672308438, -0.0581273968683752, 0.0712099797536354, 0.0062093156165054, 0.00720651632920303 },
	 { -0.0164121703318693, -0.044641636506989, -0.0105172024313319, 0.00121513083253827, -0.0373437341334407, -0.0357602082230672, 0.0118237214092792, -0.0394933828740919, -0.02139368094036, -0.0342145528191441 },
	 { 0.0162806757273067, 0.0506801187398187, 0.0724743272574975, 0.076958286094736, -0.00844872411121698, 0.00557538873315109, -0.00658446761115617, -0.00259226199818282, -0.0236445575721341, 0.0610539062220542 },
	 { -0.0563700932930843, -0.044641636506989, -0.074108114790305, -0.0504279295735057, -0.0249601584096305, -0.0470335528474903, 0.0928197530991947, -0.076394503750001, -0.0611765950943345, -0.0466408735636482 },
	 { 0.0489735217864827, 0.0506801187398187, 0.00349435452911985, 0.0700725447072635, -0.00844872411121698, 0.0134041002778894, -0.0544457590642881, 0.0343088588777263, 0.0133159679089277, 0.036201264733046 },
	 { -0.00914709342983014, -0.044641636506989, 0.0110390390462862, -0.0573136709609782, -0.0249601584096305, -0.0429626228442264, 0.0302319104297145, -0.0394933828740919, 0.01703713241478, -0.0052198044153011 },
	 { 0.0199132141783263, -0.044641636506989, 0.00457216660300077, -0.0263278347173518, 0.023198191627409, 0.0102726156599941, 0.0670482884705852, -0.0394933828740919, -0.0236445575721341, -0.0466408735636482 },
	 { 0.0126481372762872, 0.0506801187398187, -0.02021751109626, -0.00222773986119799, 0.0383336730676214, 0.05317395492516, -0.00658446761115617, 0.0343088588777263, -0.00514530798026311, -0.0093619113301358 },
	 { -0.0273097856849279, -0.044641636506989, 0.088641508365711, -0.0251802111642493, 0.0218222387692079, 0.0425269072243159, -0.0323559322397657, 0.0343088588777263, 0.00286377051894013, 0.0776223338813931 },
	 { -0.0127796318808497, -0.044641636506989, 0.0606183944448076, 0.0528581912385822, 0.0479653430750293, 0.0293746718291555, -0.0176293810234174, 0.0343088588777263, 0.0702112981933102, 0.00720651632920303 },
	 { 0.0417084448844436, -0.044641636506989, -0.0320734439089499, -0.061904165207817, 0.0796122588136553, 0.0509819156926333, 0.056003375058324, -0.00997248617336464, 0.0450661683362615, -0.0590671943081523 },
	 { 0.110726675453815, 0.0506801187398187, -0.0331512559828308, -0.0228849640236156, -0.00432086553661359, 0.0202933664372591, -0.0618090346724622, 0.0712099797536354, 0.0155668445407018, 0.0444854785627154 },
	 { 0.0671362140415805, 0.0506801187398187, -0.030995631835069, 0.00465800152627453, 0.0245741444856101, 0.0356376410649462, -0.0286742944356786, 0.0343088588777263, 0.0233748412798208, 0.0817644407962278 },
	 { 0.00175052192322852, -0.044641636506989, -0.0460850008694016, -0.0332135761048244, -0.07311850844667, -0.0814798836443389, 0.0449584616460628, -0.0693832907835783, -0.0611765950943345, -0.0797777288823259 },
	 { 0.0417084448844436, 0.0506801187398187, 0.0196615356373334, 0.0597439326260547, -0.00569681839481472, -0.00256647127337676, -0.0286742944356786, -0.00259226199818282, 0.0311929907028023, 0.00720651632920303 },
	 { 0.00538306037424807, 0.0506801187398187, -0.00189470584028465, 0.0081008722200108, -0.00432086553661359, -0.0157187066685371, -0.0029028298070691, -0.00259226199818282, 0.0383932482116977, -0.0135040182449705 },
	};
	

	std::vector<std::string> get_input_names(){
		std::vector<std::string> lFeatures = { "Feature_0", "Feature_1", "Feature_2", "Feature_3", "Feature_4", "Feature_5", "Feature_6", "Feature_7", "Feature_8", "Feature_9" };

		return lFeatures;
	}

	std::vector<std::string> get_output_names(){
		std::vector<std::string> lOutputs = { "Estimator" };

		return lOutputs;
	}

	tTable compute_regression(std::any Feature_0, std::any Feature_1, std::any Feature_2, std::any Feature_3, std::any Feature_4, std::any Feature_5, std::any Feature_6, std::any Feature_7, std::any Feature_8, std::any Feature_9) {
		std::vector<std::any> inputs = { Feature_0, Feature_1, Feature_2, Feature_3, Feature_4, Feature_5, Feature_6, Feature_7, Feature_8, Feature_9 };

		std::any lDotProduct = linear_kernel( lProblem_data_dual, lProblem_data_sv, inputs ) + 135.48725846356393;


		tTable lTable;

		std::any  lEstimator = lDotProduct;
		lTable[ "Estimator" ] = { lEstimator };

		return lTable;
	}

	tTable compute_model_outputs_from_table( tTable const & iTable) {
		tTable lTable = compute_regression(iTable.at("Feature_0")[0], iTable.at("Feature_1")[0], iTable.at("Feature_2")[0], iTable.at("Feature_3")[0], iTable.at("Feature_4")[0], iTable.at("Feature_5")[0], iTable.at("Feature_6")[0], iTable.at("Feature_7")[0], iTable.at("Feature_8")[0], iTable.at("Feature_9")[0]);

		return lTable;
	}

} // eof namespace 


int main() {
	score_csv_file("outputs/ml2cpp-demo/datasets/diabetes.csv");
	return 0;
}
